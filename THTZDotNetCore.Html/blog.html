<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog CRUD</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
    <div class="mb-3">
        <label for="txtTitle" class="form-label">Title</label>
        <input type="text" class="form-control" id="txtTitle">
    </div>

    <div class="mb-3">
        <label for="txtAuthor" class="form-label">Author</label>
        <input type="text" class="form-control" id="txtAuthor">
    </div>

    <div class="mb-3">
        <label for="txtContent" class="form-label">Content</label>
        <input type="text" class="form-control" id="txtContent">
    </div>

    <button type="button" id="btnCancel" class="btn btn-secondary">Cancel</button>
    <button type="button" id="btnSave" class="btn btn-success">Save</button>

    <table class="table table-responsive">
        <thead>
            <tr>
                <th>No.</th>
                <th>Title</th>
                <th>Author</th>
                <th>Content</th>
            </tr>
        </thead>
        <tbody id="tblBlogs">

        </tbody>
    </table>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <script>
        $('#btnCancel').click(function () {
            clearControls();
        });

        function clearControls() {
            $('#txtTitle').val('');
            $('#txtAuthor').val('');
            $('#txtContent').val('');

            $('#txtTitle').focus();
        }

        //Create
        $('#btnSave').click(function () {

        });

        function loadData() {
            let lst = getData();

            $('#tblBlogs').html('');
            for (let i = 0; i < lst.length; i++) {
                const blog = lst[i];
                const tr = `<tr>
                    <td>
                        <button type="button" class="btn btn-warning btn-edit" data-blog-id="${blog.id}">Edit</button>
                        <button type="button" class="btn btn-warning btn-delete" data-blog-id="${blog.id}">Delete</button>
                    </td>
                    <td>${i + 1}</td>
                    <td>${lst[i].title}</td>
                    <td>${lst[i].author}</td>
                    <td>${lst[i].content}</td>
                </tr>`;

                // $('#tblBlogs').append(row);
                trs += tr;
            }

            bindEditButton();
            bindDeleteButton();
        }

        function getData() {
            let lst = localStorage.getItem('blog');
            if (lst == null) {
                return [];
            }
            else {
                lst = JSON.parse(lst);
            }
            return lst;
        }
        //for id
        function uuidv4() {
            return "10000000-1000-4000-8000-100000000000".replace(/[018]/g, c =>
                (+c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> +c / 4).toString(16)
            );
        }

        console.log(uuidv4());

    </script>
</body>

</html>